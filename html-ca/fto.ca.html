<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.8.1: http://docutils.sourceforge.net/" />
<title></title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7056 2011-06-17 10:50:48Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math {
  margin-left: 2em ;
  margin-right: 2em }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document">


<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">rst-ca/fto.ca.rst</tt>, line 1)</p>
<p>Malformed table.</p>
<pre class="literal-block">
+----------------------------------+--------------------+---------------------------------+
| Advanced Bash-Scripting Guide:   |
+==================================+====================+=================================+
| `Prev &lt;testconstructs.html&gt;`_    | Chapter 7. Tests   | `Next &lt;comparison-ops.html&gt;`_   |
+----------------------------------+--------------------+---------------------------------+
</pre>
</div>
<hr class="docutils" />
<div class="section" id="file-test-operators">
<h1>7.2. File test operators</h1>
<p><strong>Returns true if...</strong></p>
<table class="docutils option-list" frame="void" rules="none">
<col class="option" />
<col class="description" />
<tbody valign="top">
<tr><td class="option-group">
<kbd><span class="option">-e</span></kbd></td>
<td>file exists</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-a</span></kbd></td>
<td><p class="first">file exists</p>
<p class="last">This is identical in effect to -e. It has been &quot;deprecated,&quot;
<a class="reference external" href="fto.html#FTN.AEN3261">[1]</a> and its use is discouraged.</p>
</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-f</span></kbd></td>
<td>file is a <tt class="docutils literal">regular</tt> file (not a directory or <a class="reference external" href="devref1.html#DEVFILEREF">device
file</a>)</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-s</span></kbd></td>
<td>file is not zero size</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-d</span></kbd></td>
<td>file is a directory</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-b</span></kbd></td>
<td>file is a <a class="reference external" href="devref1.html#BLOCKDEVREF">block device</a></td></tr>
<tr><td class="option-group">
<kbd><span class="option">-c</span></kbd></td>
<td><p class="first">file is a <a class="reference external" href="devref1.html#CHARDEVREF">character device</a></p>
<pre class="last literal-block">
device0=&quot;/dev/sda2&quot;    # /   (root directory)
if [ -b &quot;$device0&quot; ]
then
  echo &quot;$device0 is a block device.&quot;
fi

# /dev/sda2 is a block device.



device1=&quot;/dev/ttyS1&quot;   # PCMCIA modem card.
if [ -c &quot;$device1&quot; ]
then
  echo &quot;$device1 is a character device.&quot;
fi

# /dev/ttyS1 is a character device.
</pre>
</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-p</span></kbd></td>
<td><p class="first">file is a <a class="reference external" href="special-chars.html#PIPEREF">pipe</a></p>
<pre class="last literal-block">
function show_input_type()
{
   [ -p /dev/fd/0 ] &amp;&amp; echo PIPE || echo STDIN
}

show_input_type &quot;Input&quot;                           # STDIN
echo &quot;Input&quot; | show_input_type                    # PIPE

# This example courtesy of Carl Anderson.
</pre>
</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-h</span></kbd></td>
<td>file is a <a class="reference external" href="basic.html#SYMLINKREF">symbolic link</a></td></tr>
<tr><td class="option-group">
<kbd><span class="option">-L</span></kbd></td>
<td>file is a symbolic link</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-S</span></kbd></td>
<td>file is a <a class="reference external" href="devref1.html#SOCKETREF">socket</a></td></tr>
<tr><td class="option-group">
<kbd><span class="option">-t</span></kbd></td>
<td><p class="first">file (<a class="reference external" href="io-redirection.html#FDREF">descriptor</a>) is associated with
a terminal device</p>
<p class="last">This test option <a class="reference external" href="intandnonint.html#II2TEST">may be used to check</a>
whether the <tt class="docutils literal">stdin</tt> <tt class="docutils literal">[ <span class="pre">-t</span> 0 ]</tt> or <tt class="docutils literal">stdout</tt> <tt class="docutils literal">[ <span class="pre">-t</span> 1 ]</tt> in a
given script is a terminal.</p>
</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-r</span></kbd></td>
<td>file has read permission (<em>for the user running the test</em>)</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-w</span></kbd></td>
<td>file has write permission (for the user running the test)</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-x</span></kbd></td>
<td>file has execute permission (for the user running the test)</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-g</span></kbd></td>
<td><p class="first">set-group-id (sgid) flag set on file or directory</p>
<p class="last">If a directory has the <tt class="docutils literal">sgid</tt> flag set, then a file created within
that directory belongs to the group that owns the directory, not
necessarily to the group of the user who created the file. This may
be useful for a directory shared by a workgroup.</p>
</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-u</span></kbd></td>
<td><p class="first">set-user-id (suid) flag set on file</p>
<p>A binary owned by <em>root</em> with <tt class="docutils literal"><span class="pre">set-user-id</span></tt> flag set runs with
<em>root</em> privileges, even when an ordinary user invokes it.
<a class="reference external" href="fto.html#FTN.AEN3372">[2]</a> This is useful for executables (such
as <strong>pppd</strong> and <strong>cdrecord</strong>) that need to access system hardware.
Lacking the <em>suid</em> flag, these binaries could not be invoked by a
<em>non-root</em> user.</p>
<pre class="literal-block">
-rwsr-xr-t    1 root       178236 Oct  2  2000 /usr/sbin/pppd
</pre>
<p class="last">A file with the <tt class="docutils literal">suid</tt> flag set shows an <em>s</em> in its permissions.</p>
</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-k</span></kbd></td>
<td><p class="first"><tt class="docutils literal">sticky bit</tt> set</p>
<p>Commonly known as the <em>sticky bit,</em> the <em>save-text-mode</em> flag is a
special type of file permission. If a file has this flag set, that
file will be kept in cache memory, for quicker access.
<a class="reference external" href="fto.html#FTN.AEN3395">[3]</a> If set on a directory, it restricts
write permission. Setting the sticky bit adds a <em>t</em> to the
permissions on the file or directory listing.</p>
<pre class="literal-block">
drwxrwxrwt    7 root         1024 May 19 21:26 tmp/
</pre>
<p class="last">If a user does not own a directory that has the sticky bit set, but
has write permission in that directory, she can only delete those
files that she owns in it. This keeps users from inadvertently
overwriting or deleting each other's files in a publicly accessible
directory, such as <tt class="docutils literal">/tmp</tt>. (The <em>owner</em> of the directory or <em>root</em>
can, of course, delete or rename files there.)</p>
</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-O</span></kbd></td>
<td>you are owner of file</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-G</span></kbd></td>
<td>group-id of file same as yours</td></tr>
<tr><td class="option-group">
<kbd><span class="option">-N</span></kbd></td>
<td>file modified since it was last read</td></tr>
</tbody>
</table>
<dl class="docutils">
<dt>f1 -nt f2</dt>
<dd>file <tt class="docutils literal">f1</tt> is newer than <tt class="docutils literal">f2</tt></dd>
<dt>f1 -ot f2</dt>
<dd>file <tt class="docutils literal">f1</tt> is older than <tt class="docutils literal">f2</tt></dd>
<dt>f1 -ef f2</dt>
<dd>files <tt class="docutils literal">f1</tt> and <tt class="docutils literal">f2</tt> are hard links to the same file</dd>
</dl>
<dl class="docutils">
<dt>!</dt>
<dd>&quot;not&quot; -- reverses the sense of the tests above (returns true if
condition absent).</dd>
</dl>
<p><strong>Example 7-4. Testing for broken links</strong></p>
<pre class="literal-block">
#!/bin/bash
# broken-link.sh
# Written by Lee bigelow &lt;ligelowbee&#64;yahoo.com&gt;
# Used in ABS Guide with permission.

#  A pure shell script to find dead symlinks and output them quoted
#+ so they can be fed to xargs and dealt with :)
#+ eg. sh broken-link.sh /somedir /someotherdir|xargs rm
#
#  This, however, is a better method:
#
#  find &quot;somedir&quot; -type l -print0|\
#  xargs -r0 file|\
#  grep &quot;broken symbolic&quot;|
#  sed -e 's/^\|: *broken symbolic.*$/&quot;/g'
#
#+ but that wouldn't be pure Bash, now would it.
#  Caution: beware the /proc file system and any circular links!
################################################################


#  If no args are passed to the script set directories-to-search
#+ to current directory.  Otherwise set the directories-to-search
#+ to the args passed.
######################

[ $# -eq 0 ] &amp;&amp; directorys=`pwd` || directorys=$&#64;


#  Setup the function linkchk to check the directory it is passed
#+ for files that are links and don't exist, then print them quoted.
#  If one of the elements in the directory is a subdirectory then
#+ send that subdirectory to the linkcheck function.
##########

linkchk () {
    for element in $1/*; do
      [ -h &quot;$element&quot; -a ! -e &quot;$element&quot; ] &amp;&amp; echo \&quot;$element\&quot;
      [ -d &quot;$element&quot; ] &amp;&amp; linkchk $element
    # Of course, '-h' tests for symbolic link, '-d' for directory.
    done
}

#  Send each arg that was passed to the script to the linkchk() function
#+ if it is a valid directoy.  If not, then print the error message
#+ and usage info.
##################
for directory in $directorys; do
    if [ -d $directory ]
    then linkchk $directory
    else
        echo &quot;$directory is not a directory&quot;
        echo &quot;Usage: $0 dir1 dir2 ...&quot;
    fi
done

exit $?
</pre>
<p><a class="reference external" href="zeros.html#COOKIES">Example 31-1</a>, <a class="reference external" href="loops1.html#BINGREP">Example
11-7</a>, <a class="reference external" href="loops1.html#FILEINFO">Example 11-3</a>,
<a class="reference external" href="zeros.html#RAMDISK">Example 31-3</a>, and <a class="reference external" href="contributed-scripts.html#MAILFORMAT">Example
A-1</a> also illustrate uses of the
file test operators.</p>
<div class="section" id="notes">
<h2>Notes</h2>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">rst-ca/fto.ca.rst</tt>, line 10); <em><a href="#id4">backlink</a></em></p>
Duplicate explicit target name: &quot;[1]&quot;.</div>
<p><a class="reference external" href="fto.html#AEN3261">[1]</a></p>
<p>Per the 1913 edition of <em>Webster's Dictionary</em>:</p>
<pre class="literal-block">
Deprecate
...

To pray against, as an evil;
to seek to avert by prayer;
to desire the removal of;
to seek deliverance from;
to express deep regret for;
to disapprove of strongly.
</pre>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">rst-ca/fto.ca.rst</tt>, line 10); <em><a href="#id5">backlink</a></em></p>
Duplicate explicit target name: &quot;[2]&quot;.</div>
<p><a class="reference external" href="fto.html#AEN3372">[2]</a></p>
<p>Be aware that <em>suid</em> binaries may open security holes. The <em>suid</em> flag
has no effect on shell scripts.</p>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">rst-ca/fto.ca.rst</tt>, line 10); <em><a href="#id6">backlink</a></em></p>
Duplicate explicit target name: &quot;[3]&quot;.</div>
<p><a class="reference external" href="fto.html#AEN3395">[3]</a></p>
<p>On Linux systems, the sticky bit is no longer used for files, only on
directories.</p>
<hr class="docutils" />
<table border="1" class="docutils">
<colgroup>
<col width="37%" />
<col width="27%" />
<col width="37%" />
</colgroup>
<tbody valign="top">
<tr><td><a class="reference external" href="testconstructs.html">Prev</a></td>
<td><a class="reference external" href="index.html">Home</a></td>
<td><a class="reference external" href="comparison-ops.html">Next</a></td>
</tr>
<tr><td>Test Constructs</td>
<td><a class="reference external" href="tests.html">Up</a></td>
<td>Other Comparison Operators</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</body>
</html>
