<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
 <head>
  <title>
   Options
  </title>
  <meta content="Modular DocBook HTML Stylesheet Version 1.7" name="GENERATOR"/>
  <link href="index.html" rel="HOME" title="Advanced Bash-Scripting Guide"/>
  <link href="part5.html" rel="UP" title="Advanced Topics"/>
  <link href="debugging.html" rel="PREVIOUS" title="Debugging"/>
  <link href="gotchas.html" rel="NEXT" title="Gotchas"/>
 </head>
 <body alink="#0000FF" bgcolor="#FFFFFF" class="CHAPTER" link="#0000FF" text="#000000" vlink="#840084">
  <div class="CHAPTER">
   <h1>
    <a name="OPTIONS">
    </a>
    Chapter 33. Options
   </h1>
   <p>
    <a name="OPTIONSREF">
    </a>
   </p>
   <p>
    Options are settings that change shell and/or script
        behavior.
   </p>
   <p>
    The
    <a href="internal.html#SETREF">
     set
    </a>
    command
	enables options within a script. At the point in the script
	where you want the options to take effect, use
    <b class="COMMAND">
     set
	-o option-name
    </b>
    or, in short form,
    <b class="COMMAND">
     set
	-option-abbrev
    </b>
    . These two forms are equivalent.
   </p>
   <p>
   </p>
   <div>
    <p>
     <font color="#000000">
      <pre class="PROGRAMLISTING">      #!/bin/bash

      set -o verbose
      # Echoes all commands before executing.
      </pre>
     </font>
    </p>
   </div>
   <p>
   </p>
   <div>
    <p>
     <font color="#000000">
      <pre class="PROGRAMLISTING">      #!/bin/bash

      set -v
      # Exact same effect as above.
      </pre>
     </font>
    </p>
   </div>
   <div class="NOTE">
    <p>
    </p>
    <div>
     <p>
      <img alt="Note" hspace="5" src="../images/note.gif"/>
     </p>
     <p>
      <p>
       To
       <i class="FIRSTTERM">
        disable
       </i>
       an option within a script,
	use
       <b class="COMMAND">
        set +o option-name
       </b>
       or
       <b class="COMMAND">
        set
	+option-abbrev
       </b>
       .
      </p>
     </p>
    </div>
   </div>
   <p>
   </p>
   <div>
    <p>
     <font color="#000000">
      <pre class="PROGRAMLISTING">      #!/bin/bash

      set -o verbose
      # Command echoing on.
      command
      ...
      command

      set +o verbose
      # Command echoing off.
      command
      # Not echoed.


      set -v
      # Command echoing on.
      command
      ...
      command

      set +v
      # Command echoing off.
      command

      exit 0
      </pre>
     </font>
    </p>
   </div>
   <p>
    An alternate method of enabling options in a script is
	to specify them immediately following the
    <tt class="REPLACEABLE">
     <i>
      #!
     </i>
    </tt>
    script header.
   </p>
   <p>
   </p>
   <div>
    <p>
     <font color="#000000">
      <pre class="PROGRAMLISTING">      #!/bin/bash -x
      #
      # Body of script follows.
      </pre>
     </font>
    </p>
   </div>
   <p>
    <a name="INVOCATIONOPTIONSREF">
    </a>
   </p>
   <p>
    It is also possible to enable script options from the command
	line. Some options that will not work with
    <b class="COMMAND">
     set
    </b>
    are available this way. Among these
	are
    <tt class="REPLACEABLE">
     <i>
      -i
     </i>
    </tt>
    , force script to run
	interactive.
   </p>
   <p>
    <tt class="USERINPUT">
     <b>
      bash -v script-name
     </b>
    </tt>
   </p>
   <p>
    <tt class="USERINPUT">
     <b>
      bash -o verbose script-name
     </b>
    </tt>
   </p>
   <p>
    The following is a listing of some useful options. They may be
	specified in either abbreviated form (preceded by a single dash)
	or by complete name (preceded by a
    <em>
     double
    </em>
    dash or by
    <tt class="OPTION">
     -o
    </tt>
    ).
   </p>
   <p>
    <a name="OPTIONSTABLE">
    </a>
   </p>
   <div class="TABLE">
    <a name="AEN19601">
    </a>
    <p>
     <b>
      Table 33-1. Bash options
     </b>
    </p>
    <div>
     <p>
      Abbreviation
     </p>
     <p>
      Name
     </p>
     <p>
      Effect
     </p>
     <p>
      <tt class="OPTION">
       -B
      </tt>
     </p>
     <p>
      brace expansion
     </p>
     <p>
      <em>
       Enable
      </em>
      <a href="special-chars.html#BRACEEXPREF">
       brace
                 expansion
      </a>
      (default setting =
      <em>
       on
      </em>
      )
     </p>
     <p>
      <tt class="OPTION">
       +B
      </tt>
     </p>
     <p>
      brace expansion
     </p>
     <p>
      <em>
       Disable
      </em>
      brace expansion
     </p>
     <p>
      <a name="NOCLOBBERREF">
      </a>
      <tt class="OPTION">
       -C
      </tt>
     </p>
     <p>
      noclobber
     </p>
     <p>
      Prevent overwriting of files by redirection (may be
		overridden by
      <span class="TOKEN">
       &gt;|
      </span>
      )
     </p>
     <p>
      <tt class="OPTION">
       -D
      </tt>
     </p>
     <p>
      (none)
     </p>
     <p>
      List double-quoted strings prefixed by
      <span class="TOKEN">
       $
      </span>
      ,
	      but do not execute commands in script
     </p>
     <p>
      <tt class="OPTION">
       -a
      </tt>
     </p>
     <p>
      allexport
     </p>
     <p>
      Export all defined variables
     </p>
     <p>
      <tt class="OPTION">
       -b
      </tt>
     </p>
     <p>
      notify
     </p>
     <p>
      Notify when jobs running in background terminate (not of
	        much use in a script)
     </p>
     <p>
      <tt class="OPTION">
       -c ...
      </tt>
     </p>
     <p>
      (none)
     </p>
     <p>
      Read commands from
      <b class="COMMAND">
       ...
      </b>
     </p>
     <p>
      <tt class="OPTION">
       checkjobs
      </tt>
     </p>
     <p>
     </p>
     <p>
      Informs user of any open
      <a href="x9644.html#JOBSREF">
       jobs
      </a>
      upon shell exit.
              Introduced in
      <a href="bashver4.html#BASH4REF">
       version 4
      </a>
      of Bash, and still
      <span class="QUOTE">
       "experimental."
      </span>
      <em>
       Usage:
      </em>
      shopt -s checkjobs
	      (
      <em>
       Caution:
      </em>
      may hang!)
     </p>
     <p>
      <tt class="OPTION">
       -e
      </tt>
     </p>
     <p>
      errexit
     </p>
     <p>
      Abort script at first error, when a command
		exits with non-zero status (except in
      <a href="loops1.html#UNTILLOOPREF">
       until
      </a>
      or
      <a href="loops1.html#WHILELOOPREF">
       while loops
      </a>
      ,
      <a href="testconstructs.html#TESTCONSTRUCTS1">
       if-tests
      </a>
      ,
      <a href="list-cons.html#LCONS1">
       list constructs
      </a>
      )
     </p>
     <p>
      <tt class="OPTION">
       -f
      </tt>
     </p>
     <p>
      noglob
     </p>
     <p>
      Filename expansion (globbing) disabled
     </p>
     <p>
      <tt class="OPTION">
       globstar
      </tt>
     </p>
     <p>
      <a href="bashver4.html#GLOBSTARREF">
       <i class="FIRSTTERM">
        globbing
       </i>
       star-match
      </a>
     </p>
     <p>
      Enables the
      <span class="TOKEN">
       **
      </span>
      <a href="globbingref.html">
       globbing
      </a>
      operator
               (
      <a href="bashver4.html#BASH4REF">
       version 4+
      </a>
      of Bash).
      <em>
       Usage:
      </em>
      shopt -s globstar
     </p>
     <p>
      <tt class="OPTION">
       -i
      </tt>
     </p>
     <p>
      interactive
     </p>
     <p>
      Script runs in
      <i class="FIRSTTERM">
       interactive
      </i>
      mode
     </p>
     <p>
      <tt class="OPTION">
       -n
      </tt>
     </p>
     <p>
      noexec
     </p>
     <p>
      Read commands in script, but do not execute them (syntax check)
     </p>
     <p>
      <tt class="OPTION">
       -o Option-Name
      </tt>
     </p>
     <p>
      (none)
     </p>
     <p>
      Invoke the
      <i class="FIRSTTERM">
       Option-Name
      </i>
      option
     </p>
     <p>
      <tt class="OPTION">
       -o posix
      </tt>
     </p>
     <p>
      POSIX
     </p>
     <p>
      Change the behavior of Bash, or invoked script, to
		conform to
      <a href="sha-bang.html#POSIX2REF">
       POSIX
      </a>
      standard.
     </p>
     <p>
      <tt class="OPTION">
       -o pipefail
      </tt>
     </p>
     <p>
      pipe failure
     </p>
     <p>
      Causes a pipeline to return the
      <a href="exit-status.html#EXITSTATUSREF">
       exit status
      </a>
      of
	      the last command in the pipe that returned a non-zero
	      return value.
     </p>
     <p>
      <tt class="OPTION">
       -p
      </tt>
     </p>
     <p>
      privileged
     </p>
     <p>
      Script runs as
      <span class="QUOTE">
       "suid"
      </span>
      (caution!)
     </p>
     <p>
      <tt class="OPTION">
       -r
      </tt>
     </p>
     <p>
      restricted
     </p>
     <p>
      Script runs in
      <i class="FIRSTTERM">
       restricted
      </i>
      mode (see
      <a href="restricted-sh.html">
       Chapter 22
      </a>
      ).
     </p>
     <p>
      <tt class="OPTION">
       -s
      </tt>
     </p>
     <p>
      stdin
     </p>
     <p>
      Read commands from
      <tt class="FILENAME">
       stdin
      </tt>
     </p>
     <p>
      <tt class="OPTION">
       -t
      </tt>
     </p>
     <p>
      (none)
     </p>
     <p>
      Exit after first command
     </p>
     <p>
      <tt class="OPTION">
       -u
      </tt>
     </p>
     <p>
      nounset
     </p>
     <p>
      Attempt to use undefined variable
		outputs error message, and forces an exit
     </p>
     <p>
      <tt class="OPTION">
       -v
      </tt>
     </p>
     <p>
      verbose
     </p>
     <p>
      Print each command to
      <tt class="FILENAME">
       stdout
      </tt>
      before executing it
     </p>
     <p>
      <tt class="OPTION">
       -x
      </tt>
     </p>
     <p>
      xtrace
     </p>
     <p>
      Similar to
      <tt class="OPTION">
       -v
      </tt>
      , but expands commands
     </p>
     <p>
      <tt class="OPTION">
       -
      </tt>
     </p>
     <p>
      (none)
     </p>
     <p>
      End of options flag. All other arguments
		are
      <a href="internalvariables.html#POSPARAMREF">
       positional
		parameters
      </a>
      .
     </p>
     <p>
      <tt class="OPTION">
       --
      </tt>
     </p>
     <p>
      (none)
     </p>
     <p>
      Unset positional parameters.
		If arguments given (
      <tt class="PARAMETER">
       <i>
        -- arg1 arg2
       </i>
      </tt>
      ),
		positional parameters set to arguments.
     </p>
    </div>
   </div>
  </div>
 </body>
</html>