<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.8.1: http://docutils.sourceforge.net/" />
<title></title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7056 2011-06-17 10:50:48Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math {
  margin-left: 2em ;
  margin-right: 2em }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document">


<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">rst-ca/basic.ca.rst</tt>, line 1)</p>
<p>Malformed table.</p>
<pre class="literal-block">
+----------------------------------+-------------------------------------------------------+--------------------------+
| Advanced Bash-Scripting Guide:   |
+==================================+=======================================================+==========================+
| `Prev &lt;external.html&gt;`_          | Chapter 16. External Filters, Programs and Commands   | `Next &lt;moreadv.html&gt;`_   |
+----------------------------------+-------------------------------------------------------+--------------------------+
</pre>
</div>
<hr class="docutils" />
<div class="section" id="basic-commands">
<h1>16.1. Basic Commands</h1>
<p><strong>The first commands a novice learns</strong></p>
<dl class="docutils">
<dt><strong>ls</strong></dt>
<dd><p class="first">The basic file &quot;list&quot; command. It is all too easy to underestimate
the power of this humble command. For example, using the <tt class="docutils literal"><span class="pre">-R</span></tt>,
recursive option, <strong>ls</strong> provides a tree-like listing of a directory
structure. Other useful options are <tt class="docutils literal"><span class="pre">-S</span></tt>, sort listing by file
size, <tt class="docutils literal"><span class="pre">-t</span></tt>, sort by file modification time, <tt class="docutils literal"><span class="pre">-b</span></tt>, show escape
characters, and <tt class="docutils literal"><span class="pre">-i</span></tt>, show file inodes (see <a class="reference external" href="moreadv.html#IDELETE">Example
16-4</a>).</p>
<div class="figure align-center">
<img alt="Tip" src="http://tldp.org/LDP/abs/images/tip.gif" />
<p class="caption">Tip</p>
</div>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">rst-ca/basic.ca.rst</tt>, line 28)</p>
Explicit markup ends without a blank line; unexpected unindent.</div>
<p>The <em>ls</em> command returns a non-zero <a class="reference external" href="exit-status.html#EXITSTATUSREF">exit
status</a> when attempting to list a
non-existent file.</p>
<pre class="literal-block">
bash$ ls abc
ls: abc: No such file or directory


bash$ echo $?
2
</pre>
<p><strong>Example 16-1. Using *ls* to create a table of contents for burning
a CDR disk</strong></p>
<pre class="last literal-block">
#!/bin/bash
# ex40.sh (burn-cd.sh)
# Script to automate burning a CDR.


SPEED=10         # May use higher speed if your hardware supports it.
IMAGEFILE=cdimage.iso
CONTENTSFILE=contents
# DEVICE=/dev/cdrom     For older versions of cdrecord
DEVICE=&quot;1,0,0&quot;
DEFAULTDIR=/opt  # This is the directory containing the data to be burned.
                 # Make sure it exists.
                 # Exercise: Add a test for this.

# Uses Joerg Schilling's &quot;cdrecord&quot; package:
# http://www.fokus.fhg.de/usr/schilling/cdrecord.html

#  If this script invoked as an ordinary user, may need to suid cdrecord
#+ chmod u+s /usr/bin/cdrecord, as root.
#  Of course, this creates a security hole, though a relatively minor one.

if [ -z &quot;$1&quot; ]
then
  IMAGE_DIRECTORY=$DEFAULTDIR
  # Default directory, if not specified on command-line.
else
    IMAGE_DIRECTORY=$1
fi

# Create a &quot;table of contents&quot; file.
ls -lRF $IMAGE_DIRECTORY &gt; $IMAGE_DIRECTORY/$CONTENTSFILE
# The &quot;l&quot; option gives a &quot;long&quot; file listing.
# The &quot;R&quot; option makes the listing recursive.
# The &quot;F&quot; option marks the file types (directories get a trailing /).
echo &quot;Creating table of contents.&quot;

# Create an image file preparatory to burning it onto the CDR.
mkisofs -r -o $IMAGEFILE $IMAGE_DIRECTORY
echo &quot;Creating ISO9660 file system image ($IMAGEFILE).&quot;

# Burn the CDR.
echo &quot;Burning the disk.&quot;
echo &quot;Please be patient, this will take a while.&quot;
wodim -v -isosize dev=$DEVICE $IMAGEFILE
#  In newer Linux distros, the &quot;wodim&quot; utility assumes the
#+ functionality of &quot;cdrecord.&quot;
exitcode=$?
echo &quot;Exit code = $exitcode&quot;

exit $exitcode
</pre>
</dd>
<dt><strong>cat</strong>, <strong>tac</strong></dt>
<dd><p class="first"><strong>cat</strong>, an acronym for <em>concatenate</em>, lists a file to <tt class="docutils literal">stdout</tt>.
When combined with redirection (&gt; or &gt;&gt;), it is commonly used to
concatenate files.</p>
<pre class="literal-block">
# Uses of 'cat'
cat filename                          # Lists the file.

cat file.1 file.2 file.3 &gt; file.123   # Combines three files into one.
</pre>
<p>The <tt class="docutils literal"><span class="pre">-n</span></tt> option to <strong>cat</strong> inserts consecutive numbers before all
lines of the target file(s). The <tt class="docutils literal"><span class="pre">-b</span></tt> option numbers only the
non-blank lines. The <tt class="docutils literal"><span class="pre">-v</span></tt> option echoes nonprintable characters,
using ^ notation. The <tt class="docutils literal"><span class="pre">-s</span></tt> option squeezes multiple consecutive
blank lines into a single blank line.</p>
<p>See also <a class="reference external" href="textproc.html#LNUM">Example 16-28</a> and <a class="reference external" href="textproc.html#ROT13">Example
16-24</a>.</p>
<div class="figure align-center">
<img alt="Note" src="http://tldp.org/LDP/abs/images/note.gif" />
<p class="caption">Note</p>
</div>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">rst-ca/basic.ca.rst</tt>, line 123)</p>
Explicit markup ends without a blank line; unexpected unindent.</div>
<p>In a <a class="reference external" href="special-chars.html#PIPEREF">pipe</a>, it may be more efficient
to <a class="reference external" href="io-redirection.html#IOREDIRREF">redirect</a> the <tt class="docutils literal">stdin</tt> to a
file, rather than to <strong>cat</strong> the file.</p>
<pre class="literal-block">
cat filename | tr a-z A-Z

tr a-z A-Z &lt; filename   #  Same effect, but starts one less process,
                        #+ and also dispenses with the pipe.
</pre>
<p class="last"><strong>tac</strong>, is the inverse of <em>cat</em>, listing a file backwards from its
end.</p>
</dd>
<dt><strong>rev</strong></dt>
<dd><p class="first">reverses each line of a file, and outputs to <tt class="docutils literal">stdout</tt>. This does
not have the same effect as <strong>tac</strong>, as it preserves the order of
the lines, but flips each one around (mirror image).</p>
<pre class="last literal-block">
bash$ cat file1.txt
This is line 1.
 This is line 2.


bash$ tac file1.txt
This is line 2.
 This is line 1.


bash$ rev file1.txt
.1 enil si sihT
 .2 enil si sihT
</pre>
</dd>
<dt><strong>cp</strong></dt>
<dd><p class="first">This is the file copy command. <tt class="docutils literal">cp file1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; file2</tt> copies
<tt class="docutils literal">file1</tt> to <tt class="docutils literal">file2</tt>, overwriting <tt class="docutils literal">file2</tt> if it already exists
(see <a class="reference external" href="moreadv.html#EX42">Example 16-6</a>).</p>
<div class="figure align-center">
<img alt="Tip" src="http://tldp.org/LDP/abs/images/tip.gif" />
<p class="caption">Tip</p>
</div>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">rst-ca/basic.ca.rst</tt>, line 169)</p>
Explicit markup ends without a blank line; unexpected unindent.</div>
<p>Particularly useful are the <tt class="docutils literal"><span class="pre">-a</span></tt> archive flag (for copying an
entire directory tree), the <tt class="docutils literal"><span class="pre">-u</span></tt> update flag (which prevents
overwriting identically-named newer files), and the <tt class="docutils literal"><span class="pre">-r</span></tt> and
<tt class="docutils literal"><span class="pre">-R</span></tt> recursive flags.</p>
<pre class="last literal-block">
cp -u source_dir/* dest_dir
#  &quot;Synchronize&quot; dest_dir to source_dir
#+  by copying over all newer and not previously existing files.
</pre>
</dd>
<dt><strong>mv</strong></dt>
<dd><p class="first">This is the file <em>move</em> command. It is equivalent to a combination
of <strong>cp</strong> and <strong>rm</strong>. It may be used to move multiple files to a
directory, or even to rename a directory. For some examples of using
<strong>mv</strong> in a script, see <a class="reference external" href="parameter-substitution.html#RFE">Example
10-11</a> and <a class="reference external" href="contributed-scripts.html#RN">Example
A-2</a>.</p>
<div class="figure align-center">
<img alt="Note" src="http://tldp.org/LDP/abs/images/note.gif" />
<p class="caption">Note</p>
</div>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">rst-ca/basic.ca.rst</tt>, line 193)</p>
Explicit markup ends without a blank line; unexpected unindent.</div>
<p>When used in a non-interactive script, <strong>mv</strong> takes the <tt class="docutils literal"><span class="pre">-f</span></tt>
(<em>force</em>) option to bypass user input.</p>
<p>When a directory is moved to a preexisting directory, it becomes a
subdirectory of the destination directory.</p>
<pre class="last literal-block">
bash$ mv source_directory target_directory

bash$ ls -lF target_directory
total 1
 drwxrwxr-x    2 bozo  bozo      1024 May 28 19:20 source_directory/
</pre>
</dd>
<dt><strong>rm</strong></dt>
<dd><p class="first">Delete (remove) a file or files. The <tt class="docutils literal"><span class="pre">-f</span></tt> option forces removal of
even readonly files, and is useful for bypassing user input in a
script.</p>
<div class="figure align-center">
<img alt="Note" src="http://tldp.org/LDP/abs/images/note.gif" />
<p class="caption">Note</p>
</div>
<p>The <em>rm</em> command will, by itself, fail to remove filenames beginning
with a dash. Why? Because <em>rm</em> sees a dash-prefixed filename as an
<em>option</em>.</p>
<pre class="literal-block">
bash$ rm -badname
rm: invalid option -- b
 Try `rm --help' for more information.
</pre>
<p>One clever workaround is to precede the filename with a &quot; -- &quot; (the
<em>end-of-options</em> flag).</p>
<pre class="literal-block">
bash$ rm -- -badname
</pre>
<p>Another method to is to preface the filename to be removed with a
<tt class="docutils literal"><span class="pre">dot-slash</span></tt> .</p>
<pre class="literal-block">
bash$ rm ./-badname
</pre>
<div class="figure align-center">
<img alt="Warning" src="http://tldp.org/LDP/abs/images/warning.gif" />
<p class="caption">Warning</p>
</div>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">rst-ca/basic.ca.rst</tt>, line 248)</p>
Explicit markup ends without a blank line; unexpected unindent.</div>
<p class="last">When used with the recursive flag <tt class="docutils literal"><span class="pre">-r</span></tt>, this command removes files
all the way down the directory tree from the current directory. A
careless <strong>rm -rf *</strong> can wipe out a big chunk of a directory
structure.</p>
</dd>
<dt><strong>rmdir</strong></dt>
<dd>Remove directory. The directory must be empty of all files --
including &quot;invisible&quot; <em>dotfiles</em> <a class="reference external" href="basic.html#FTN.AEN10156">[1]</a> --
for this command to succeed.</dd>
<dt><strong>mkdir</strong></dt>
<dd>Make directory, creates a new directory. For example,
<tt class="docutils literal">mkdir <span class="pre">-p</span> project/programs/December</tt> creates the named directory.
The <tt class="docutils literal"><span class="pre">-p</span></tt> option automatically creates any necessary parent
directories.</dd>
<dt><strong>chmod</strong></dt>
<dd><p class="first">Changes the attributes of an existing file or directory (see
<a class="reference external" href="internal.html#EX44">Example 15-14</a>).</p>
<pre class="literal-block">
chmod +x filename
# Makes &quot;filename&quot; executable for all users.

chmod u+s filename
# Sets &quot;suid&quot; bit on &quot;filename&quot; permissions.
# An ordinary user may execute &quot;filename&quot; with same privileges as the file's owner.
# (This does not apply to shell scripts.)
</pre>
<pre class="literal-block">
chmod 644 filename
#  Makes &quot;filename&quot; readable/writable to owner, readable to others
#+ (octal mode).

chmod 444 filename
#  Makes &quot;filename&quot; read-only for all.
#  Modifying the file (for example, with a text editor)
#+ not allowed for a user who does not own the file (except for root),
#+ and even the file owner must force a file-save
#+ if she modifies the file.
#  Same restrictions apply for deleting the file.
</pre>
<pre class="last literal-block">
chmod 1777 directory-name
#  Gives everyone read, write, and execute permission in directory,
#+ however also sets the &quot;sticky bit&quot;.
#  This means that only the owner of the directory,
#+ owner of the file, and, of course, root
#+ can delete any particular file in that directory.

chmod 111 directory-name
#  Gives everyone execute-only permission in a directory.
#  This means that you can execute and READ the files in that directory
#+ (execute permission necessarily includes read permission
#+ because you can't execute a file without being able to read it).
#  But you can't list the files or search for them with the &quot;find&quot; command.
#  These restrictions do not apply to root.

chmod 000 directory-name
#  No permissions at all for that directory.
#  Can't read, write, or execute files in it.
#  Can't even list files in it or &quot;cd&quot; to it.
#  But, you can rename (mv) the directory
#+ or delete it (rmdir) if it is empty.
#  You can even symlink to files in the directory,
#+ but you can't read, write, or execute the symlinks.
#  These restrictions do not apply to root.
</pre>
</dd>
<dt><strong>chattr</strong></dt>
<dd><p class="first"><strong>Ch**ange file **attr**ibutes. This is analogous to **chmod</strong>
above, but with different options and a different invocation syntax,
and it works only on <em>ext2/ext3</em> filesystems.</p>
<p>One particularly interesting <strong>chattr</strong> option is <tt class="docutils literal">i</tt>. A <strong>chattr
+i ``filename``</strong> marks the file as immutable. The file cannot be
modified, linked to, or deleted, <em>not even by root</em>. This file
attribute can be set or removed only by <em>root</em>. In a similar
fashion, the <tt class="docutils literal">a</tt> option marks the file as append only.</p>
<pre class="literal-block">
root# chattr +i file1.txt


root# rm file1.txt

rm: remove write-protected regular file `file1.txt'? y
 rm: cannot remove `file1.txt': Operation not permitted
</pre>
<p>If a file has the <tt class="docutils literal">s</tt> (secure) attribute set, then when it is
deleted its block is overwritten with binary zeroes.
<a class="reference external" href="basic.html#FTN.AEN10229">[2]</a></p>
<p>If a file has the <tt class="docutils literal">u</tt> (undelete) attribute set, then when it is
deleted, its contents can still be retrieved (undeleted).</p>
<p>If a file has the <tt class="docutils literal">c</tt> (compress) attribute set, then it will
automatically be compressed on writes to disk, and uncompressed on
reads.</p>
<div class="figure align-center">
<img alt="Note" src="http://tldp.org/LDP/abs/images/note.gif" />
<p class="caption">Note</p>
</div>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">rst-ca/basic.ca.rst</tt>, line 357)</p>
Explicit markup ends without a blank line; unexpected unindent.</div>
<p class="last">The file attributes set with <strong>chattr</strong> do not show in a file
listing (<strong>ls -l</strong>).</p>
</dd>
<dt><strong>ln</strong></dt>
<dd><p class="first">Creates links to pre-existings files. A &quot;link&quot; is a reference to a
file, an alternate name for it. The <strong>ln</strong> command permits
referencing the linked file by more than one name and is a superior
alternative to aliasing (see <a class="reference external" href="othertypesv.html#EX18">Example
4-6</a>).</p>
<p>The <strong>ln</strong> creates only a reference, a pointer to the file only a
few bytes in size.</p>
<p>The <strong>ln</strong> command is most often used with the <tt class="docutils literal"><span class="pre">-s</span></tt>, symbolic or
&quot;soft&quot; link flag. Advantages of using the <tt class="docutils literal"><span class="pre">-s</span></tt> flag are that it
permits linking across file systems or to directories.</p>
<p>The syntax of the command is a bit tricky. For example:
<tt class="docutils literal">ln <span class="pre">-s</span> oldfile newfile</tt> links the previously existing <tt class="docutils literal">oldfile</tt>
to the newly created link, <tt class="docutils literal">newfile</tt>.</p>
<div class="figure align-center">
<img alt="Caution" src="http://tldp.org/LDP/abs/images/caution.gif" />
<p class="caption">Caution</p>
</div>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">rst-ca/basic.ca.rst</tt>, line 383)</p>
Explicit markup ends without a blank line; unexpected unindent.</div>
<p>If a file named <tt class="docutils literal">newfile</tt> has previously existed, an error message
will result.</p>
<p><strong>Which type of link to use?</strong></p>
<p>As John Macdonald explains it:</p>
<p>Both of these [types of links] provide a certain measure of dual
reference -- if you edit the contents of the file using any name,
your changes will affect both the original name and either a hard or
soft new name. The differences between them occurs when you work at
a higher level. The advantage of a hard link is that the new name is
totally independent of the old name -- if you remove or rename the
old name, that does not affect the hard link, which continues to
point to the data while it would leave a soft link hanging pointing
to the old name which is no longer there. The advantage of a soft
link is that it can refer to a different file system (since it is
just a reference to a file name, not to actual data). And, unlike a
hard link, a symbolic link can refer to a directory.</p>
<p>Links give the ability to invoke a script (or any other type of
executable) with multiple names, and having that script behave
according to how it was invoked.</p>
<p><strong>Example 16-2. Hello or Good-bye</strong></p>
<pre class="last literal-block">
#!/bin/bash
# hello.sh: Saying &quot;hello&quot; or &quot;goodbye&quot;
#+          depending on how script is invoked.

# Make a link in current working directory ($PWD) to this script:
#    ln -s hello.sh goodbye
# Now, try invoking this script both ways:
# ./hello.sh
# ./goodbye


HELLO_CALL=65
GOODBYE_CALL=66

if [ $0 = &quot;./goodbye&quot; ]
then
  echo &quot;Good-bye!&quot;
  # Some other goodbye-type commands, as appropriate.
  exit $GOODBYE_CALL
fi

echo &quot;Hello!&quot;
# Some other hello-type commands, as appropriate.
exit $HELLO_CALL
</pre>
</dd>
<dt><strong>man</strong>, <strong>info</strong></dt>
<dd><p class="first">These commands access the manual and information pages on system
commands and installed utilities. When available, the <em>info</em> pages
usually contain more detailed descriptions than do the <em>man</em> pages.</p>
<p class="last">There have been various attempts at &quot;automating&quot; the writing of <em>man
pages</em>. For a script that makes a tentative first step in that
direction, see <a class="reference external" href="contributed-scripts.html#MANED">Example A-39</a>.</p>
</dd>
</dl>
<div class="section" id="notes">
<h2>Notes</h2>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">rst-ca/basic.ca.rst</tt>, line 10); <em><a href="#id3">backlink</a></em></p>
Duplicate explicit target name: &quot;[1]&quot;.</div>
<p><a class="reference external" href="basic.html#AEN10156">[1]</a></p>
<p><em>Dotfiles</em> are files whose names begin with a <em>dot</em>, such as
<tt class="docutils literal"><span class="pre">~/.Xdefaults</span></tt>. Such filenames do not appear in a normal <strong>ls</strong>
listing (although an <strong>ls -a</strong> will show them), and they cannot be
deleted by an accidental <strong>rm -rf *</strong>. Dotfiles are generally used as
setup and configuration files in a user's home directory.</p>
<div class="system-message">
<p class="system-message-title">System Message: WARNING/2 (<tt class="docutils">rst-ca/basic.ca.rst</tt>, line 10); <em><a href="#id4">backlink</a></em></p>
Duplicate explicit target name: &quot;[2]&quot;.</div>
<p><a class="reference external" href="basic.html#AEN10229">[2]</a></p>
<p>This particular feature may not yet be implemented in the version of the
ext2/ext3 filesystem installed on your system. Check the documentation
for your Linux distro.</p>
<hr class="docutils" />
<table border="1" class="docutils">
<colgroup>
<col width="46%" />
<col width="27%" />
<col width="28%" />
</colgroup>
<tbody valign="top">
<tr><td><a class="reference external" href="external.html">Prev</a></td>
<td><a class="reference external" href="index.html">Home</a></td>
<td><a class="reference external" href="moreadv.html">Next</a></td>
</tr>
<tr><td>External Filters, Programs and Commands</td>
<td><a class="reference external" href="external.html">Up</a></td>
<td>Complex Commands</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</body>
</html>
